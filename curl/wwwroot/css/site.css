html {
  font-size: 14px;
}

@media (min-width: 768px) {
  html {
    font-size: 16px;
  }
}

.btn:focus, .btn:active:focus, .btn-link.nav-link:focus, .form-control:focus, .form-check-input:focus {
  box-shadow: 0 0 0 0.1rem white, 0 0 0 0.25rem #258cfb;
}

html {
  position: relative;
  min-height: 100%;
}

body {
  margin-bottom: 60px;
}

/* --- Modern UI enhancements --- */
:root {
  --brand: #6f42c1;
  --brand-2: #845ef7;
  --muted: #6c757d;
  --bg-soft: #f8f9fc;
}

body { background: #f6f7fb; }

.navbar { box-shadow: 0 2px 8px rgba(0,0,0,.06); }

.card { border: 0; box-shadow: 0 6px 20px rgba(18,38,63,.05); border-radius: 12px; }
.card-header { background: linear-gradient(90deg, var(--brand), var(--brand-2)); color: #fff; border-top-left-radius: 12px; border-top-right-radius: 12px; }

.btn-primary { background: linear-gradient(90deg, var(--brand), var(--brand-2)); border: none; }
.btn-primary:hover { filter: brightness(.96); }
.btn-outline-secondary { border-radius: 8px; }

.table thead th { font-weight: 600; letter-spacing: .2px; }
.table thead.sticky { position: sticky; top: 0; z-index: 2; background: #fff; box-shadow: 0 2px 6px rgba(0,0,0,.04); }

.table tbody tr:hover { background: #fafbff; }

pre { background: #0f172a; color: #e2e8f0; border-radius: 8px; }

.badge-soft-success { background: #e8fff3; color: #16a34a; }
.badge-soft-danger { background: #fff0f0; color: #dc2626; }
.badge-soft-info { background: #eef6ff; color: #2563eb; }

.toolbar { gap: .5rem; position: relative; z-index: 5; }
#btnAuto { position: relative; z-index: 10; pointer-events: auto; }

.shadow-sticky { box-shadow: 0 2px 6px rgba(0,0,0,.06); }

.spinner { width: 18px; height: 18px; border: 2px solid #fff; border-right-color: transparent; border-radius: 50%; display: inline-block; animation: spin 0.6s linear infinite; vertical-align: text-bottom; }
@keyframes spin { to { transform: rotate(360deg); } }

/* Column coloring */
td.col-stt { background: #ffffff; }
td.col-result { background: #ffe0b2; }
td.col-history { background: #f1f3f5; }
td.col-points { background: #ffe8cc; }
td.col-tx { background: #fff9db; }
td.col-cl { background: #e7f0ff; }
td.col-bao { background: #e0f2ff; }

.tx-red { color: #dc2626; font-weight: 600; }
.tx-blue { color: #2563eb; font-weight: 600; }

.row-correct { background-color: #e9ecef !important; transition: background-color .4s ease; }

/* Fireworks */
.fireworks-overlay { position: fixed; inset: 0; pointer-events: none; z-index: 1050; overflow: hidden; background: rgba(15, 23, 42, 0.15); }
.fire-dot { position: absolute; width: 8px; height: 8px; border-radius: 50%; opacity: 0; animation: boom 900ms ease-out forwards; }
@keyframes boom {
  0% { transform: translate(0,0) scale(0.6); opacity: 1; }
  100% { transform: translate(var(--dx), var(--dy)) scale(0.2); opacity: 0; }
}

/* Loader overlay */
.analyzing-overlay { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; background: rgba(33,37,41,.6); color: #fff; z-index: 1020; border-radius: 12px; }
.analyzing-box { text-align: center; }
.analyzing-text { font-weight: 600; margin-top: .5rem; }